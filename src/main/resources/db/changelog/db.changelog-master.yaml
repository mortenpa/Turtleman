databaseChangeLog:
  - changeSet:
      id: 1
      author: morten
      changes:
        - createTable:
            tableName: customer
            columns:
            - column:
                name: id
                type: BIGINT
                autoIncrement: true
                constraints:
                  primaryKey: true
                  nullable: false
            - column:
                name: firstName
                type: VARCHAR(50)
                constraints:
                  nullable: false
            - column:
                name: lastName
                type: VARCHAR(50)
                constraints:
                  nullable: false
            - column:
                name: email
                type: VARCHAR(254)
                constraints:
                  nullable: false
                  unique: true
            - column:
                name: createdDtime
                type: TIMESTAMP WITH TIME ZONE
                constraints:
                  nullable: false
                defaultValueComputed: CURRENT_TIMESTAMP
            - column:
                name: modifiedDtime
                type: TIMESTAMP WITH TIME ZONE
                constraints:
                  nullable: false
                defaultValueComputed: CURRENT_TIMESTAMP
        - sql:
            dbms: h2
            sql: |
                CREATE TRIGGER customer_update_modified
                BEFORE UPDATE ON customer
                FOR EACH ROW
                CALL "com.github.mortenpa.turtle.repository.database.trigger.CustomerUpdateModified"